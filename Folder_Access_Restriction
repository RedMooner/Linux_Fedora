Ограничение доступа к папке
------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
Заходим в командную строку.
Выполните команду su и введите пароль от root пользователя. |#|#| Команда su позволяет пользователю выполнять команды от имени другого пользователя(в нашем случае от пользователя root), не завершая текущий сеанс.
------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
cd /home/user/Documents/ |#|#| Переходим в нужный каталог, в котором будет создаваться папка с ограниченным доступом. В каталоге вместо "user" выберите имя своего пользователя, под которым выполняется авторизация.
------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
mkdir /home/user/Documents/Test/ |#|#| Создание папки Test.
------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
По желанию можно добавлять пользователей в группы:
usermod -a -G wheel user |#|#| Добавление пользователя "user" в группу "wheel".
usermod -a -G root user |#|#| Добавление пользователя "user" в группу "root".
id -Gn user |#|#| Команда для проверки в каких папках состоит пользователь "user".
------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
chmod 700 /home/user/Documents/Test/ |#|#| Данной командой выдаются права:
              7                                         0                                                     0
            /   \                                     /   \                                                 /   \
Разрешить все для владельца(root)    Для участников группы(root) никаких прав     Для всех остальных пользователей и групп тоже никаких прав
Так как папка "Test" создавалась то пользователя "root", то и владельцем данной папки является пользователь "root".
Чтобы посмотреть права, группу и владельца папки "Test", нужно выполнить команду "ls -sl" находясь в каталоге /home/user/Documents/
------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
cd .. |#|#| Команда для того, чтобы вернуться назад из каталога /home/user/Documents/Test/ в каталог /home/user/Documents/
------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
ls -sl |#|#| Команда для просмотра прав и владельцев каталога и файлов лежащих в нём.
------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
После выполнения данной команды должен быть такой вывод: 4 d-w-------. 3 root     root 4096 июл 13 17:26 Test
                                                                           |        |
                                                                       Владелец   Группа
------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
После выполненных действий можно закрыть командную строку и попробовать зайти в папку в графическом интерфейсе. Если все было выполнено правильно, то под пользователем "user" в папку "Test" можно будет зайти только введя пароль пользователя "root". Также нельзя будет открыть какой-либо документ без ввода пароля от пользователя "root".
Если попытаться зайти в папку в консоли под обычным пользователем, то обязательно появится ошибка: bash: cd: /home/user/Documents/Test/: Отказано в доступе.
------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
