OC Linux Fedora 36 Workstation
------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
Все описанные ниже действия выполнялись под пользователем root
------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
Настройка автоматического резервного копирования конфигураций активного сетевого оборудования.
------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
Всем привет! Для того, чтобы мне в это реализовать потребовалось:
1) Установка\настройка TFTP-сервера;
2) Написанный bash-скрипт;
3) Установленная служба nfs и примонтированная сетевая папка, на которую будут скидываться бэкапы. Можно использовать и обычную сетевую папку на Windows, и подключаться к ней по протоколу SMB;
4) Ну и сетевые устройства, которые могут работать с протоколом TFTP.
------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
1) Установка и настройка TFTP-сервера
------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
yum install -y tftp tftp-server.x86_64 |#|#| Команда установки необходимых пакетов для tftp-server-@
------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
nano /usr/lib/systemd/system/tftp.service |#|#| Команда для редактирования конфигурационного файла tftp.service
------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
После установки необходимых пакетов заходим в кофигурационный файл /usr/lib/systemd/system/tftp.service и приводим его к следующему виду:

[Unit]
Description=Tftp Server
Requires=tftp.socket
Documentation=man:in.tftpd

[Service]
ExecStart=/usr/sbin/in.tftpd -c -p -s /var/lib/tftpboot
StandardInput=socket

[Install]
WantedBy=multi-user.target
Also=tftp.socket
------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
После внесения корректировок вводим следующие команды:

systemctl daemon-reload |#|#| Команда для проверки наличия новых или изменённых юнитов и перезапуска systemd:
systemctl enable --now tftp-server |#|#| Команда для включения автозагрузки tftp-server-@
systemctl status tftp-server |#|#| Команда проверки статуса tftp-server-@
chmod 777 /var/lib/tftpboot |#|#| Изменяем права доступа на каталог
Для систем с работающей с службой Firewalld разрешите порты TFTP:
firewall-cmd --add-service=tftp --permanent
firewall-cmd --reload
------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
На данном этапе TFTP-server настроен и функционирует! IP-адресом TFTP-server-@ является IP-address PC. (Возьмём как пример адрес 10.10.10.10/24).
------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
2)



